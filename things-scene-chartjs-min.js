!function t(e,r,a){function n(i,s){if(!r[i]){if(!e[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[i]={exports:{}};e[i][0].call(u.exports,function(t){var r=e[i][1][t];return n(r?r:t)},u,u.exports,t,e,r,a)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)n(a[i]);return n}({1:[function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),l=function h(t,e,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,e);if(void 0===a){var n=Object.getPrototypeOf(t);return null===n?void 0:h(n,e,r)}if("value"in a)return a.value;var o=a.get;return void 0===o?void 0:o.call(r)},c=t("./chart-helpers-overload"),u=(a(c),function(t){function e(t){return n(this,e),o(this,Object.getPrototypeOf(e).call(this,t))}return i(e,t),s(e,[{key:"resize",value:function(){}},{key:"destroy",value:function(){}},{key:"clear",value:function(){}},{key:"bindEvents",value:function(){}},{key:"draw",value:function(t){return arguments.length>1?(this.__ease__=t,void this._component.invalidate()):void l(Object.getPrototypeOf(e.prototype),"draw",this).call(this,t)}},{key:"reset",value:function(t,e,r){var a=this.chart.width!==t||this.chart.height!==e;this.chart.width=t,this.chart.height=e,this.chart.ctx=r;var n=!0,o=!1,i=void 0;try{for(var s,l=this.boxes[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;c.ctx=r}}catch(u){o=!0,i=u}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw i}}a&&this.updateLayout()}}]),e}(Chart.Controller));r["default"]=u},{"./chart-helpers-overload":2}],2:[function(t,e,r){"use strict";function a(){}Object.defineProperty(r,"__esModule",{value:!0});var n=(Chart.helpers,Chart.Controller,Object.assign({},Chart.helpers));n.retinaScale=a,n.addResizeListener=a,n.removeResizeListener=a;var o=Chart.helpers.getRelativePosition;Chart.helpers.getRelativePosition=function(t,e){var r=t.chartJSWrapper;if(!r)return o(t,e);var a=t.chartJSWrapper.transcoordC2S(t.offsetX,t.offsetY);return{x:a.x-r.get("left"),y:a.y-r.get("top")}},r["default"]=n},{}],3:[function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),l=t("./chart-helpers-overload"),c=a(l),u=t("./chart-controller-overload"),h=a(u),f=Chart.helpers,d=Chart.Controller,p=function(t){function e(t,r,a){n(this,e),e.backup();var i=o(this,Object.getPrototypeOf(e).call(this,t,r));return e.restore(),i._component=a,i}return i(e,t),s(e,null,[{key:"backup",value:function(){Chart.helpers=c["default"],Chart.Controller=h["default"]}},{key:"restore",value:function(){Chart.helpers=f,Chart.Controller=d}}]),e}(Chart);r["default"]=p},{"./chart-controller-overload":1,"./chart-helpers-overload":2}],4:[function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},l=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),c=t("./chart-overload"),u=a(c),h=scene,f=h.Component,d=h.RectPath;Chart.defaults.global.defaultFontSize=10;var p={mutable:!1,resizable:!0,rotatable:!0,properties:[{type:"chartjs-properties",label:"",name:"chart"}]},y=function(t){function e(){return n(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return i(e,t),l(e,[{key:"_draw",value:function(t){var e=this.bounds,r=e.left,a=e.top,n=e.width,o=e.height;if(t.beginPath(),t.rect(r,a,n,o),this.drawFill(t),this.drawStroke(t),t.closePath(),!this._chart){var i=this.model,s=i.chart,l=i.data;s&&(s.options&&this.convertOptions(s),this._chart=new u["default"](t,JSON.parse(JSON.stringify(s)),this)),l&&(this._chart.data.rawData=l)}var c=this.model,n=c.width,o=c.height,r=c.left,a=c.top;t.translate(r,a),this._draw_once?(this._chart.chart.ctx!=t&&this._chart.reset(n,o,t),this._chart.draw(this._chart.__ease__)):(this._chart.reset(n,o,t),this._chart.update(0),this._draw_once=!0),t.translate(-r,-a)}},{key:"convertOptions",value:function(t){this.setStacked(t.options),this.setMultiAxis(t),this.setFontSize(t.options),this.setTheme(t.options)}},{key:"setStacked",value:function(t){if(t){var e=t.stacked;if(t.scales||(t.scales={}),t.scales&&t.scales.xAxes){var r=!0,a=!1,n=void 0;try{for(var o,i=t.scales.xAxes[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;s.stacked=e}}catch(l){a=!0,n=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(a)throw n}}}if(t.scales&&t.scales.yAxes){var c=!0,u=!1,h=void 0;try{for(var f,d=t.scales.yAxes[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;p.stacked=e}}catch(l){u=!0,h=l}finally{try{!c&&d["return"]&&d["return"]()}finally{if(u)throw h}}}}}},{key:"setMultiAxis",value:function(t){if(t){var e=t.options;if(e){var r=e.multiAxis;if(e.scales||(e.scales={}),e.scales.yAxes){var a=t.data.datasets;if(r)1===e.scales.yAxes.length&&e.scales.yAxes.push({position:"right",id:"right"});else{if(a){var n=!0,o=!1,i=void 0;try{for(var s,l=a[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;"right"==c.yAxisID&&(c.yAxisID="left")}}catch(u){o=!0,i=u}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw i}}}e.scales.yAxes.length>1&&(e.scales.yAxes=[e.scales.yAxes[0]])}}}}}},{key:"setTheme",value:function(t){if(t){var e,r=t.theme,a="#000",n="#fff";switch(r){case"light":e=n;break;case"dark":default:e=a}e=tinycolor(e);{e.isDark()}if(t.legend||(t.legend={}),t.legend.labels||(t.legend.labels={}),t.legend.labels.fontColor=e.clone().setAlpha(.5).toString(),t.scales||(t.scales={}),t.scales&&t.scales.xAxes){var o=!0,i=!1,s=void 0;try{for(var l,c=t.scales.xAxes[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;u.gridLines||(u.gridLines={}),u.gridLines.display=t.xGridLine,u.gridLines.zeroLineColor=e.clone().setAlpha(.5).toString(),u.gridLines.color=e.clone().setAlpha(.1).toString(),u.ticks||(u.ticks={}),u.ticks.fontColor=e.clone().setAlpha(.5).toString()}}catch(h){i=!0,s=h}finally{try{!o&&c["return"]&&c["return"]()}finally{if(i)throw s}}}if(t.scales&&t.scales.yAxes){var f=!0,d=!1,p=void 0;try{for(var y,v=t.scales.yAxes[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var g=y.value;g.gridLines||(g.gridLines={}),g.gridLines.display=t.yGridLine,g.gridLines.zeroLineColor=e.clone().setAlpha(.5).toString(),g.gridLines.color=e.clone().setAlpha(.1).toString(),g.ticks||(g.ticks={}),g.ticks.fontColor=e.clone().setAlpha(.5).toString()}}catch(h){d=!0,p=h}finally{try{!f&&v["return"]&&v["return"]()}finally{if(d)throw p}}}}}},{key:"setFontSize",value:function(t){if(t){var e=t.fontSize;if(t.legend||(t.legend={}),t.legend.labels||(t.legend.labels={}),t.legend.labels.fontSize=e,t.scales||(t.scales={}),t.scales&&t.scales.xAxes){var r=!0,a=!1,n=void 0;try{for(var o,i=t.scales.xAxes[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;s.ticks||(s.ticks={}),s.ticks.fontSize=e}}catch(l){a=!0,n=l}finally{try{!r&&i["return"]&&i["return"]()}finally{if(a)throw n}}}if(t.scales&&t.scales.yAxes){var c=!0,u=!1,h=void 0;try{for(var f,d=t.scales.yAxes[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;p.ticks||(p.ticks={}),p.ticks.fontSize=e}}catch(l){u=!0,h=l}finally{try{!c&&d["return"]&&d["return"]()}finally{if(u)throw h}}}}}},{key:"onchange",value:function(t){if(t.hasOwnProperty("chart")){this._chart=null,this._draw_once=!1;var e=this.model.chart.data.datasets;this.model.chart.data.rawData||(this.model.chart.data.rawData={}),this.model.chart.data.rawData.seriesData||(this.model.chart.data.rawData.seriesData={});var r=this.model.chart.data.rawData.seriesData,a=[];if(e.length>r.length){for(var n=0;n<this.model.chart.data.rawData.labelData.length;n++)a.push(Math.floor(Math.random()*r[0][n]/2));r.push(a)}return void this.invalidate()}t.hasOwnProperty("data")&&(this.model.data=t.data,this._chart&&(this._chart.config.data.rawData=t.data||{},this._chart.update()));for(var o in t)if(t.hasOwnProperty(o)){var i=this.model,l=this,c=o.split("."),u=t[o];if("object"===("undefined"==typeof u?"undefined":s(u))&&(u=JSON.parse(JSON.stringify(u))),c.length>0){for(var h=!1,n=0;n<c.length;n++){var f=c[n];"chart"===f&&(h=!0),f=f.replace("#",""),n===c.length-1&&(i[f]=u,l[f]=u),i=i[f],l=l[f]||l["_"+f]}h&&(this._chart=null,this._draw_once=!1,this.invalidate())}}this._draw_once=!1,this.invalidate()}},{key:"onclick",value:function(t){t.chartJSWrapper=this,this._chart&&this._chart.eventHandler(t)}},{key:"ondragstart",value:function(){}},{key:"onmousemove",value:function(t){t.chartJSWrapper=this,this._chart&&this._chart.eventHandler(t)}},{key:"volatile",get:function(){return[]}},{key:"nature",get:function(){return p}}]),e}(d(f));r["default"]=y,f.register("chartjs",y)},{"./chart-overload":3}],5:[function(require,module,exports){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function updateSeriesDatas(t){if(t.data.rawData){{var e=t.data.rawData.seriesData;t.id}e&&0!==e.length||(e=[null]);for(var r in e)t.data.datasets[r]&&(t.data.datasets[r].data=e[r]||[])}}function updateLabelDatas(t){var e=t.data.rawData.labelData;t.config.data.labels=e||[]}function seriesHighlight(chartInstance,seriesData){chartInstance.data.datasets.forEach(function(dataset){var highlight=dataset.highlight;if(highlight){var highlightColor=highlight.color,highlightCondition=highlight.condition;seriesData.forEach(function(sdata,sIndex){sdata.forEach(function(data,i){if(eval(highlightCondition)){console.log(dataset.backgroundColor,highlightColor);var meta=chartInstance.getDatasetMeta(sIndex);meta.data[i]._model.backgroundColor=highlightColor,meta.data[i]._model.hoverBackgroundColor=highlightColor}})})}})}Object.defineProperty(exports,"__esModule",{value:!0});var _chartOverload=require("./chart-overload");Object.defineProperty(exports,"SceneChart",{enumerable:!0,get:function(){return _interopRequireDefault(_chartOverload)["default"]}});var _chartjsWrapper=require("./chartjs-wrapper");Object.defineProperty(exports,"ChartJSWrapper",{enumerable:!0,get:function(){return _interopRequireDefault(_chartjsWrapper)["default"]}}),Chart.plugins.register({beforeInit:function(){},beforeUpdate:function(t){if(t.data.rawData){{t.data.rawData.seriesData}updateLabelDatas(t),updateSeriesDatas(t)}},beforeRender:function(){},beforeDraw:function(t){if(t.data.rawData){var e=t.data.rawData.seriesData;seriesHighlight(t,e)}}})},{"./chart-overload":3,"./chartjs-wrapper":4}]},{},[5]);